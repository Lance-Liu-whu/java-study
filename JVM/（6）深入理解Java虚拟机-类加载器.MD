## 深入理解Java虚拟机-类加载器

上章讲到对象会被放到`ClassLoad`里面。那这期来讲一讲`ClassLoad`。

**为什么需要`ClassLoad`?**

我的理解，在设计角度来说。一个类不应该被平白无故的加载。需要设计一个类加载器模块专门做类的加载。

同时，一般做设计的时候都需要给用户留一个口子，需要让用户有自己的实现方式（比如`Spring`框架在启动的时候就留了很多接口可以给用户去实现从而用户可以实现自己的需求）

**`ClassLoad`在是怎样的设计？**

采用双亲委派模型。

简单来说就是 一个类的加载 首先由类加载器(默认`AppClassLoader`)的顶级父类去加载,看下面的例子：

     爷爷 顶级类加载器
      ↑
     爸爸
      ↑
     孙子

当一个类要加载时，首先会通过`孙子`找到`爸爸`最后找到`爷爷`。

1.如果`爷爷`加载过了。那么这个类就不会被加载了。

2.如果`爷爷`没加载，那么通过`爸爸`重复第1点

3.只有`爸爸`和`爷爷`都没加载过的时候，`孙子`才有机会加载这个类。

不过系统的类加载器只会加载系统一些固定的类。那么肯定默认的加载器`AppClassLoader`加载的类会相对多一些。





**为什么要这么设计呢？**

个人观点

1.拥有了类加载器的层级关系（虽然不知道有什么作用，不过`Spring`框架里面的容器也是有层级关系的）

2.保证类只会被加载一次（其实，不管设计成怎么样，那就应该只会被加载一次）
